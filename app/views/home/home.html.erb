<div id='landing-splash'>
  <div class='container'>
    <div class='row'>
      <div class='col-md-10 col-md-offset-1'>

        <div class='row'>
          <div class='col-sm-7'>
            <h1 id='headline'>
              <%= t('home.home.welcome') %> <%= "#{I18n.t(:project_name)}" %>
            </h1>
            <%= link_to "#{t('home.home.explore')}", challenge_path(@featured), class: 'btn btn-info btn-rounded text-small' if @featured %>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>

<div id='landing-what'>
  <div class="container">
    <div class='row'>
      <div class='col-md-10 col-md-offset-1'>

        <h2 class="text-center"><%= "#{t('home.home.what')}" "#{I18n.t(:project_name)}?" %></h2>
        <div class="row" style='margin-bottom:15px'>
          <div class='col-sm-10 col-sm-offset-1'>
            <p class='section-description'><%= t('home.home.description') %></p>
          </div>
        </div>

        <div id='process-stages'>
          <h2 class="section-title"><%= t('home.home.header') %></h2>
          
          <div class='row row-process'>
            <% Challenge::STAGES.each_with_index do |stage, index| %>
              <div class="col-xs-6 col-sm-3" style='margin-bottom:15px'>
                <span class="fa-stack challenge-fa-bubble text-<%= stage[:name] %>">
                  <i class="fa fa-stack-2x fa-circle"></i>
                  <i class="fa fa-stack-1x fa-inverse <%= stage[:icon] %>"></i>
                </span>
                <%= content_tag(:i, '', class: 'fa fa-play', style: ('color: transparent' if stage[:name] == 'solution') ) %>
                <div class='clearfix'></div>
                <div class="caption">
                  <h4><%= "#{index+1}. #{stage[:headline]}" %></h4>
                  <p class='description'><%= stage[:description] %></p>
                </div>
              </div>
            <% end %>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>

<% if @featured %>
  <div id='landing-challenge'>
    <div class="container">
      <div class='row'>
        <div class='col-md-10 col-md-offset-1'>

          <h2 class="text-center"><%= t('home.home.header2') %></h2>

          <div class='well well-lg well-challenge'>
            <div class='well-content'>

              <h1 class='well-title'><%= t('home.home.header3') %></h1>
              <p class='well-subtitle'><%= t('home.home.header4') %></p>

              <%= link_to "#{t('home.home.learn_more')}", challenge_path(@featured), class: 'btn btn-info btn-rounded col-xs-5 col-sm-3' %>
              <div class='clearfix'></div>
            </div>
          </div>

        </div>
      </div>
    </div>
  </div>
<% end %>

<div id="landing-suggest">
  <div class="container">
    <div class="row">
      <div class='col-md-10 col-md-offset-1'>

        <h2 class="section-title" style='margin-bottom:10px'><%= t('home.home.header5') %></h2>
          <p class='section-description'><%= link_to "<i class='fa fa-twitter'></i> #{I18n.t(:project_hashtag)}".html_safe, "https://twitter.com/#{I18n.t(:project_name)}", target: '_blank' %></p>
        <p class='section-description' style='margin-bottom:20px'><%= t('home.home.cta') %></p>

        <h5 class="pull-left text-black"><%= pluralize(@suggestions.count, "#{t('home.home.suggest')}") %></h5>
        <div class='clearfix'></div>

        <div ng-switch="suggestions" ng-init="suggestions=show_all">
          <% @suggestions.first(2).each do |suggestion| %>
              <%= render file: 'suggestions/card', cache: true, locals: { suggestion: suggestion } %>
          <% end %>

          <% if @suggestions.count > 2 %>
            <div ng-show='suggestions'>
              <% (@suggestions - @suggestions.first(2)).each do |suggestion| %>
                <%= render file: 'suggestions/card', cache: true, locals: { suggestion: suggestion } %>
              <% end %>
            </div>
          <% end %>

          <%= render partial: 'suggestions/card/new', cache: true %>

          <% if @suggestions.count > 2 %>
            <p class='center-block text-center'>
              <%= link_to "#{t('home.home.more', :count => @suggestions.count-2)}", '#', "ng-hide" => "suggestions", "ng-click" => "suggestions=true", onclick: 'return false;', class: 'text-bold' %>

              <%= link_to "#{t('home.home.less')}", "#landing-suggest", "ng-show" => "suggestions", "ng-click" => "suggestions=false", "du-smooth-scroll" => true, offset: '100', onclick: 'return false;', class: 'text-bold' %>
            </p>
          <% end %>
        </div>

      </div>
    </div>
  </div>
</div>

<div id='landing-invite'>
  <div class="container">
    <div class='row'>
      <div class='col-md-10 col-md-offset-1'>

        <h2 class="section-title text-submit"><%= t('home.home.social_sharing_question') %></h2>
        <p class='section-description'><%= t('home.home.social_sharing_description') %></p>

        <%= render partial: 'layouts/share_links', locals: { url: root_url, title: "#{I18n.t(:project_name)}", description: "#{I18n.t(:project_name)}" "#{t('home.home.share_description')}".html_safe, hashtag: I18n.t(:project_hashtag) } %>

      </div>
    </div>
  </div>
</div>