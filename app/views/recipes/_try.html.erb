<% if user_signed_in? && current_user.liked?(@recipe, { vote_scope: 'try' }) %>
  <%= link_to untry_challenge_recipe_stage_cookbook_recipe_path(@challenge, @recipe.recipe_stage, @recipe.cookbook, @recipe.id, partial: 'try'), class: 'btn btn-block btn-fa btn-sm btn-rounded btn-info active', style: 'margin-bottom: 10px', method: :put, remote: true do %>
    <i class="fa fa-wrench"></i>
    <%= t('recipes._try.trying_out') %>
  <% end %>
<% else %>
  <%= link_to try_challenge_recipe_stage_cookbook_recipe_path(@challenge, @recipe.recipe_stage, @recipe.cookbook, @recipe.id, partial: 'try'), class: 'btn btn-block btn-fa btn-sm btn-rounded btn-info', style: 'margin-bottom: 10px', data: { toggle: 'popover', trigger: 'hover', placement: 'bottom', container: '#recipe-overview', html: 'true', content: t('recipes._try.content', project: t('project_name')) }, method: :put, id: 'recipe-try', remote: user_signed_in? do %>
    <i class="fa fa-wrench"></i>
    <%= t('recipes._try.try_out') %>
  <% end %>
<% end %>